<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BYU Football Legends ‚Äì Click to Unlock</title>
<meta name="description" content="Click the BYU jersey to unlock legendary BYU Cougars football players. Collect all legends!">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
  :root {
    --royal:   #002E5D;
    --royal2:  #003f80;
    --navy:    #001a36;
    --white:   #FFFFFF;
    --cream:   #f5f0e8;
    --gold:    #C5A028;
    --gold2:   #e8c040;
    --silver:  #a0a8b0;
    --locked:  #1a2535;
    --text:    #e8f0ff;
    --muted:   #6a88b0;
    --card:    #0a1628;
    --border:  #1e3a60;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--navy);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ BACKGROUND ‚îÄ‚îÄ */
  .bg-layer {
    position: fixed; inset: 0; z-index: 0; pointer-events: none;
    background:
      radial-gradient(ellipse at 20% 40%, rgba(0,63,128,0.35) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 60%, rgba(197,160,40,0.12) 0%, transparent 50%),
      linear-gradient(180deg, #001020 0%, #001828 50%, #001020 100%);
  }

  /* Floating stars */
  .stars { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
  .star {
    position: absolute;
    width: var(--s); height: var(--s);
    background: white; border-radius: 50%;
    animation: twinkle var(--dur) ease-in-out var(--delay) infinite alternate;
    opacity: 0.6;
  }
  @keyframes twinkle {
    0%  { opacity: 0.2; transform: scale(0.8); }
    100%{ opacity: 0.9; transform: scale(1.2); }
  }

  .page { position: relative; z-index: 2; }

  /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    padding: 0.9rem 2rem; display: flex; align-items: center; justify-content: space-between;
    background: rgba(0,20,50,0.95); backdrop-filter: blur(14px);
    border-bottom: 2px solid var(--border);
    box-shadow: 0 2px 24px rgba(197,160,40,0.12);
  }
  .nav-logo {
    font-family: 'Cinzel', serif; font-size: 1.4rem; font-weight: 900;
    color: var(--white); text-decoration: none; letter-spacing: 0.06em;
    display: flex; align-items: center; gap: 0.5rem;
  }
  .nav-logo .byu { color: var(--gold2); }
  .nav-back {
    color: var(--muted); text-decoration: none; font-size: 0.8rem; font-weight: 700;
    letter-spacing: 0.1em; text-transform: uppercase; transition: color 0.15s;
    display: flex; align-items: center; gap: 0.4rem;
  }
  .nav-back:hover { color: var(--gold2); }

  /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
  .hero {
    padding: 7rem 1.5rem 3rem;
    text-align: center;
  }
  .hero-badge {
    display: inline-block;
    background: linear-gradient(135deg, #0a2044, #001428);
    border: 1px solid var(--gold);
    color: var(--gold2); font-size: 0.65rem; font-weight: 800;
    letter-spacing: 0.22em; text-transform: uppercase;
    padding: 5px 18px; border-radius: 4px; margin-bottom: 1.2rem;
    box-shadow: 0 0 14px rgba(197,160,40,0.2);
  }
  .hero-title {
    font-family: 'Cinzel', serif; font-weight: 900;
    font-size: clamp(2.2rem, 7vw, 5.5rem); line-height: 1.05;
    margin-bottom: 0.6rem;
    color: var(--white);
    text-shadow: 0 0 30px rgba(197,160,40,0.4), 0 0 60px rgba(0,63,128,0.4),
                 3px 3px 0 #001030;
    letter-spacing: 0.04em;
  }
  .hero-title .accent { color: var(--gold2); }
  .hero-sub {
    font-size: 1rem; color: var(--muted); font-weight: 600; margin-bottom: 0.4rem;
  }
  .collected-count {
    font-size: 0.85rem; color: var(--gold); font-weight: 800; margin-bottom: 2.5rem;
    letter-spacing: 0.05em;
  }
  .collected-count span { color: var(--gold2); font-size: 1.1rem; }

  /* ‚îÄ‚îÄ JERSEY AREA ‚îÄ‚îÄ */
  .jersey-section {
    display: flex; flex-direction: column; align-items: center; gap: 1.5rem;
    margin-bottom: 3rem;
  }
  .jersey-wrap {
    position: relative; cursor: pointer;
    transition: transform 0.15s;
    filter: drop-shadow(0 0 28px rgba(0,80,180,0.5));
  }
  .jersey-wrap:hover {
    transform: scale(1.05);
    filter: drop-shadow(0 0 40px rgba(197,160,40,0.6));
  }
  .jersey-wrap:active { transform: scale(0.97); }

  /* Jersey SVG */
  .jersey-svg { width: 220px; height: 260px; display: block; }

  .jersey-hint {
    font-size: 0.82rem; color: var(--muted); font-weight: 700;
    letter-spacing: 0.12em; text-transform: uppercase;
    animation: pulse-hint 2s ease-in-out infinite;
  }
  @keyframes pulse-hint {
    0%, 100% { opacity: 0.6; }
    50%       { opacity: 1; color: var(--gold2); }
  }

  /* ‚îÄ‚îÄ REVEAL MODAL ‚îÄ‚îÄ */
  .modal-overlay {
    position: fixed; inset: 0; z-index: 200;
    background: rgba(0,10,30,0.88); backdrop-filter: blur(8px);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s;
  }
  .modal-overlay.open { opacity: 1; pointer-events: all; }

  .modal-card {
    background: linear-gradient(145deg, #041228, #0a2448);
    border: 2px solid var(--gold);
    border-radius: 18px;
    padding: 2.5rem 2rem 2rem;
    max-width: 400px; width: 90%;
    text-align: center;
    box-shadow: 0 0 60px rgba(197,160,40,0.25), 0 0 120px rgba(0,63,128,0.4);
    animation: popIn 0.35s cubic-bezier(0.34,1.56,0.64,1) both;
    position: relative; overflow: hidden;
  }
  .modal-card::before {
    content: ''; position: absolute; inset: 0;
    background: radial-gradient(ellipse at 50% 0%, rgba(197,160,40,0.1) 0%, transparent 60%);
    pointer-events: none;
  }
  @keyframes popIn {
    0%   { transform: scale(0.5) translateY(40px); opacity: 0; }
    100% { transform: scale(1)   translateY(0);    opacity: 1; }
  }

  .modal-new-badge {
    display: inline-block; background: var(--gold); color: #001020;
    font-size: 0.6rem; font-weight: 900; letter-spacing: 0.2em; text-transform: uppercase;
    padding: 3px 12px; border-radius: 20px; margin-bottom: 1rem;
  }
  .modal-already-badge {
    display: inline-block; background: var(--border); color: var(--muted);
    font-size: 0.6rem; font-weight: 900; letter-spacing: 0.2em; text-transform: uppercase;
    padding: 3px 12px; border-radius: 20px; margin-bottom: 1rem;
  }

  .modal-number {
    font-family: 'Cinzel', serif; font-size: 4rem; font-weight: 900;
    color: var(--gold2); line-height: 1;
    text-shadow: 0 0 20px rgba(197,160,40,0.6);
    margin-bottom: 0.3rem;
  }
  .modal-name {
    font-family: 'Cinzel', serif; font-size: 1.6rem; font-weight: 700;
    color: var(--white); margin-bottom: 0.2rem;
  }
  .modal-position {
    font-size: 0.8rem; font-weight: 800; letter-spacing: 0.18em; text-transform: uppercase;
    color: var(--gold); margin-bottom: 0.1rem;
  }
  .modal-years {
    font-size: 0.78rem; color: var(--muted); font-weight: 600; margin-bottom: 1rem;
  }
  .modal-fact {
    font-size: 0.88rem; color: var(--cream); line-height: 1.6;
    border-top: 1px solid var(--border); padding-top: 1rem; margin-bottom: 1.5rem;
  }
  .modal-close {
    background: linear-gradient(135deg, var(--gold), var(--gold2));
    color: #001020; border: none; border-radius: 8px;
    font-size: 0.9rem; font-weight: 900; letter-spacing: 0.08em;
    padding: 0.7rem 2.5rem; cursor: pointer;
    transition: transform 0.12s, box-shadow 0.12s;
    box-shadow: 0 4px 20px rgba(197,160,40,0.4);
  }
  .modal-close:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 28px rgba(197,160,40,0.6);
  }

  /* Confetti */
  .confetti-piece {
    position: fixed; pointer-events: none; z-index: 250;
    width: 8px; height: 8px; border-radius: 2px;
    animation: confettiFall var(--dur) ease-in var(--delay) forwards;
  }
  @keyframes confettiFall {
    0%   { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }

  /* ‚îÄ‚îÄ PROGRESS BAR ‚îÄ‚îÄ */
  .progress-wrap {
    max-width: 500px; margin: 0 auto 3rem;
    padding: 0 1.5rem;
  }
  .progress-label {
    display: flex; justify-content: space-between;
    font-size: 0.75rem; font-weight: 700; color: var(--muted);
    letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 0.5rem;
  }
  .progress-bar {
    height: 10px; background: rgba(255,255,255,0.06); border-radius: 10px;
    overflow: hidden; border: 1px solid var(--border);
  }
  .progress-fill {
    height: 100%; border-radius: 10px;
    background: linear-gradient(90deg, var(--royal2), var(--gold));
    transition: width 0.5s ease;
    box-shadow: 0 0 12px rgba(197,160,40,0.4);
  }

  /* ‚îÄ‚îÄ COLLECTION GRID ‚îÄ‚îÄ */
  .section-title {
    font-family: 'Cinzel', serif; font-size: 1.4rem; font-weight: 700;
    color: var(--white); text-align: center; margin-bottom: 1.5rem;
    letter-spacing: 0.04em;
  }
  .section-title span { color: var(--gold2); }

  .collection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 1rem;
    max-width: 900px; margin: 0 auto 4rem;
    padding: 0 1.5rem;
  }
  .legend-card {
    background: var(--card);
    border: 1.5px solid var(--border);
    border-radius: 12px;
    padding: 1.2rem 0.8rem;
    text-align: center;
    transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
    position: relative; overflow: hidden;
  }
  .legend-card.unlocked {
    border-color: var(--gold);
    box-shadow: 0 0 18px rgba(197,160,40,0.18);
    cursor: pointer;
  }
  .legend-card.unlocked:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 30px rgba(197,160,40,0.3);
    border-color: var(--gold2);
  }
  .legend-card.locked {
    opacity: 0.45;
    filter: grayscale(0.7);
  }
  .card-number {
    font-family: 'Cinzel', serif; font-size: 2rem; font-weight: 900;
    color: var(--gold2); line-height: 1;
    text-shadow: 0 0 12px rgba(197,160,40,0.5);
  }
  .legend-card.locked .card-number { color: var(--muted); text-shadow: none; }
  .card-name {
    font-size: 0.82rem; font-weight: 800; color: var(--white);
    margin: 0.4rem 0 0.1rem; line-height: 1.2;
  }
  .legend-card.locked .card-name { color: var(--muted); }
  .card-pos {
    font-size: 0.65rem; font-weight: 700; color: var(--gold);
    letter-spacing: 0.12em; text-transform: uppercase;
  }
  .legend-card.locked .card-pos { color: #3a4a5a; }
  .card-lock-icon {
    font-size: 1.4rem; display: block; margin-bottom: 0.2rem;
  }
  .unlocked-glow {
    position: absolute; inset: 0;
    background: radial-gradient(ellipse at 50% 0%, rgba(197,160,40,0.08) 0%, transparent 60%);
    pointer-events: none;
  }

  /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
  footer {
    text-align: center; padding: 2rem 1rem;
    font-size: 0.72rem; color: var(--muted); font-weight: 600;
    border-top: 1px solid var(--border);
    letter-spacing: 0.05em;
  }
  footer a { color: var(--muted); text-decoration: none; }
  footer a:hover { color: var(--gold2); }

  @media (max-width: 480px) {
    .collection-grid { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
    .jersey-svg { width: 180px; height: 210px; }
  }
</style>
</head>
<body>
<div class="bg-layer"></div>
<div class="stars" id="stars"></div>

<div class="page">
  <!-- NAV -->
  <nav>
    <a href="index.html" class="nav-logo">üèà <span class="byu">BYU</span> Legends</a>
    <a href="index.html" class="nav-back">‚Üê GameCave</a>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-badge">üèüÔ∏è BYU Cougars Football</div>
    <h1 class="hero-title">Click the <span class="accent">Jersey</span><br>Unlock a Legend</h1>
    <p class="hero-sub">Every click reveals a BYU Football icon. Collect them all!</p>
    <p class="collected-count" id="countLabel">Collected: <span id="countNum">0</span> / 12</p>
  </section>

  <!-- JERSEY -->
  <div class="jersey-section">
    <div class="jersey-wrap" id="jerseyBtn" onclick="clickJersey()" role="button" aria-label="Click to unlock a BYU legend" tabindex="0">
      <svg class="jersey-svg" viewBox="0 0 220 260" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- Jersey body -->
        <path d="M55 40 L10 85 L35 95 L35 240 L185 240 L185 95 L210 85 L165 40 L140 55 C130 70 90 70 80 55 Z"
              fill="#002E5D" stroke="#C5A028" stroke-width="3"/>
        <!-- Collar -->
        <path d="M80 55 C90 72 130 72 140 55 L150 48 C140 68 80 68 70 48 Z"
              fill="#001a36" stroke="#C5A028" stroke-width="1.5"/>
        <!-- Sleeves white stripes -->
        <path d="M10 85 L35 95 L35 108 L10 98 Z" fill="#FFFFFF" opacity="0.15"/>
        <path d="M210 85 L185 95 L185 108 L210 98 Z" fill="#FFFFFF" opacity="0.15"/>
        <!-- Side stripes -->
        <rect x="35" y="95" width="8" height="145" fill="#C5A028" opacity="0.7"/>
        <rect x="177" y="95" width="8" height="145" fill="#C5A028" opacity="0.7"/>
        <!-- Number background area -->
        <rect x="70" y="130" width="80" height="70" rx="4" fill="rgba(0,0,0,0.15)"/>
        <!-- Number "Y" -->
        <text x="110" y="185" text-anchor="middle"
              font-family="'Cinzel', serif" font-size="62" font-weight="900"
              fill="#FFFFFF" opacity="0.95">Y</text>
        <!-- BYU text -->
        <text x="110" y="120" text-anchor="middle"
              font-family="'Cinzel', serif" font-size="14" font-weight="700"
              fill="#C5A028" letter-spacing="6">BYU</text>
        <!-- Cougars text -->
        <text x="110" y="230" text-anchor="middle"
              font-family="'Nunito', sans-serif" font-size="11" font-weight="800"
              fill="#C5A028" letter-spacing="3">COUGARS</text>
        <!-- Shine overlay -->
        <ellipse cx="90" cy="100" rx="30" ry="18" fill="white" opacity="0.04"/>
      </svg>
    </div>
    <p class="jersey-hint">üëÜ Click the jersey to unlock!</p>
  </div>

  <!-- PROGRESS -->
  <div class="progress-wrap">
    <div class="progress-label">
      <span>Collection Progress</span>
      <span id="progressPct">0%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill" style="width:0%"></div>
    </div>
  </div>

  <!-- COLLECTION -->
  <p class="section-title" style="padding:0 1rem;">Your <span>Legend</span> Collection</p>
  <div class="collection-grid" id="collectionGrid"></div>

  <footer>
    <p>BYU Legends &copy; GameCave 2026 &nbsp;|&nbsp;
      <a href="index.html">Home</a> &nbsp;|&nbsp;
      <a href="privacy.html">Privacy</a>
    </p>
  </footer>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modal" onclick="closeModal(event)">
  <div class="modal-card" id="modalCard">
    <div id="modalBadge" class="modal-new-badge">üåü New Unlock!</div>
    <div class="modal-number" id="modalNum">#8</div>
    <div class="modal-name" id="modalName">Steve Young</div>
    <div class="modal-position" id="modalPos">Quarterback</div>
    <div class="modal-years" id="modalYears">1980 ‚Äì 1983</div>
    <p class="modal-fact" id="modalFact"></p>
    <button class="modal-close" onclick="closeModalBtn()">Nice! Keep Going ‚Üí</button>
  </div>
</div>

<script>
// ‚îÄ‚îÄ LEGENDS DATA ‚îÄ‚îÄ
const LEGENDS = [
  {
    id: 1, number: "#8", name: "Steve Young",
    position: "Quarterback", years: "1980 ‚Äì 1983",
    fact: "Finished his BYU career as a consensus All-American and went on to a Hall-of-Fame NFL career, winning three Super Bowls with the San Francisco 49ers and earning two NFL MVP awards."
  },
  {
    id: 2, number: "#9", name: "Jim McMahon",
    position: "Quarterback", years: "1977 ‚Äì 1981",
    fact: "Set 71 NCAA records during his BYU career. Played on the 1980 Holiday Bowl comeback victory and later led the Chicago Bears to a Super Bowl XX championship."
  },
  {
    id: 3, number: "#14", name: "Ty Detmer",
    position: "Quarterback", years: "1988 ‚Äì 1991",
    fact: "Won the Heisman Trophy in 1990 with 5,188 passing yards ‚Äî still one of the greatest single seasons in college football history. Set 59 NCAA records at BYU."
  },
  {
    id: 4, number: "#6", name: "Marc Wilson",
    position: "Quarterback", years: "1977 ‚Äì 1979",
    fact: "Finished 4th in Heisman voting in 1979 and was selected 15th overall in the 1980 NFL Draft by the Oakland Raiders. A key piece of BYU's passing dynasty."
  },
  {
    id: 5, number: "#11", name: "Gifford Nielsen",
    position: "Quarterback", years: "1973 ‚Äì 1977",
    fact: "The pioneer of BYU's passing tradition. Led the Cougars to a 6-5 record in 1976 and was a key figure in launching the BYU football program into national prominence under LaVell Edwards."
  },
  {
    id: 6, number: "#24", name: "Vai Sikahema",
    position: "Running Back / KR", years: "1982 ‚Äì 1985",
    fact: "BYU's first Tongan-American star. Selected in the 1986 NFL Draft and became one of the premier kick returners of his era, earning two Pro Bowl selections with the Cardinals."
  },
  {
    id: 7, number: "#53", name: "Kyle Van Noy",
    position: "Linebacker", years: "2009 ‚Äì 2013",
    fact: "A two-time Academic All-American and consensus All-American in 2013. Went on to win Super Bowl rings with the New England Patriots and became one of the NFL's most versatile linebackers."
  },
  {
    id: 8, number: "#3", name: "Harvey Unga",
    position: "Running Back", years: "2006 ‚Äì 2009",
    fact: "BYU's all-time leading rusher with 3,455 career rushing yards. A punishing, physical back who set school records and was a two-time Mountain West Conference Player of the Year finalist."
  },
  {
    id: 9, number: "#19", name: "Johnny Harline",
    position: "Wide Receiver", years: "2002 ‚Äì 2006",
    fact: "Hero of The Rivalry. Caught the famous game-winning 11-yard touchdown with no time remaining to give BYU a 33‚Äì31 victory over Utah in 2006, in what ESPN voted the greatest college football ending ever."
  },
  {
    id: 10, number: "#72", name: "Andy Reid",
    position: "Offensive Lineman", years: "1978 ‚Äì 1981",
    fact: "Before becoming one of the NFL's greatest coaches and winning Super Bowl LIV with the Kansas City Chiefs, Andy Reid was a standout lineman for the Cougars under LaVell Edwards."
  },
  {
    id: 11, number: "#1", name: "LaVell Edwards",
    position: "Head Coach", years: "1972 ‚Äì 2000",
    fact: "Won 257 games and a national championship (1984). Inducted into the College Football Hall of Fame. Invented the modern spread passing game that transformed football at every level. BYU's stadium is named in his honor."
  },
  {
    id: 12, number: "#10", name: "Zach Wilson",
    position: "Quarterback", years: "2018 ‚Äì 2020",
    fact: "In 2020 led BYU to an 11-1 record as an independent, finishing 11th in the AP Poll. Threw 33 TD passes and only 3 interceptions. Selected 2nd overall in the 2021 NFL Draft by the New York Jets."
  }
];

const TOTAL = LEGENDS.length;
let unlocked = new Set();
let lastUnlocked = null;

// Load saved progress
try {
  const saved = JSON.parse(localStorage.getItem('byu_unlocked') || '[]');
  saved.forEach(id => unlocked.add(id));
} catch(e) {}

// ‚îÄ‚îÄ STARS ‚îÄ‚îÄ
(function createStars() {
  const container = document.getElementById('stars');
  for (let i = 0; i < 80; i++) {
    const el = document.createElement('div');
    el.className = 'star';
    const size = Math.random() * 3 + 1;
    el.style.cssText = `--s:${size}px; --dur:${2+Math.random()*3}s; --delay:${Math.random()*4}s;
      left:${Math.random()*100}%; top:${Math.random()*100}%;`;
    container.appendChild(el);
  }
})();

// ‚îÄ‚îÄ RENDER GRID ‚îÄ‚îÄ
function renderGrid() {
  const grid = document.getElementById('collectionGrid');
  grid.innerHTML = '';
  LEGENDS.forEach(l => {
    const isUnlocked = unlocked.has(l.id);
    const card = document.createElement('div');
    card.className = 'legend-card ' + (isUnlocked ? 'unlocked' : 'locked');
    if (isUnlocked) {
      card.onclick = () => showLegend(l, false);
      card.setAttribute('role', 'button');
      card.setAttribute('tabindex', '0');
      card.setAttribute('aria-label', 'View ' + l.name);
    }
    card.innerHTML = isUnlocked
      ? `<div class="unlocked-glow"></div>
         <div class="card-number">${l.number}</div>
         <div class="card-name">${l.name}</div>
         <div class="card-pos">${l.position}</div>`
      : `<span class="card-lock-icon">üîí</span>
         <div class="card-number" style="color:var(--muted);text-shadow:none;">??</div>
         <div class="card-name">???</div>
         <div class="card-pos">Click Jersey</div>`;
    grid.appendChild(card);
  });

  const pct = Math.round((unlocked.size / TOTAL) * 100);
  document.getElementById('countNum').textContent = unlocked.size;
  document.getElementById('progressFill').style.width = pct + '%';
  document.getElementById('progressPct').textContent = pct + '%';

  // save
  try { localStorage.setItem('byu_unlocked', JSON.stringify([...unlocked])); } catch(e) {}
}

// ‚îÄ‚îÄ CLICK JERSEY ‚îÄ‚îÄ
function clickJersey() {
  const locked = LEGENDS.filter(l => !unlocked.has(l.id));
  if (locked.length === 0) {
    // All unlocked ‚Äî show a random one
    const random = LEGENDS[Math.floor(Math.random() * LEGENDS.length)];
    showLegend(random, false);
    return;
  }
  const pick = locked[Math.floor(Math.random() * locked.length)];
  unlocked.add(pick.id);
  renderGrid();
  showLegend(pick, true);
  if (unlocked.size === TOTAL) launchConfetti(true);
}

// ‚îÄ‚îÄ SHOW MODAL ‚îÄ‚îÄ
function showLegend(legend, isNew) {
  document.getElementById('modalBadge').className = isNew ? 'modal-new-badge' : 'modal-already-badge';
  document.getElementById('modalBadge').textContent = isNew ? 'üåü New Unlock!' : 'üìã Legend';
  document.getElementById('modalNum').textContent = legend.number;
  document.getElementById('modalName').textContent = legend.name;
  document.getElementById('modalPos').textContent = legend.position;
  document.getElementById('modalYears').textContent = legend.years;
  document.getElementById('modalFact').textContent = legend.fact;
  document.getElementById('modal').classList.add('open');
  if (isNew) launchConfetti(false);
}

// ‚îÄ‚îÄ CLOSE MODAL ‚îÄ‚îÄ
function closeModal(e) {
  if (e.target === document.getElementById('modal')) closeModalBtn();
}
function closeModalBtn() {
  document.getElementById('modal').classList.remove('open');
}

// Keyboard support for jersey
document.getElementById('jerseyBtn').addEventListener('keydown', e => {
  if (e.key === 'Enter' || e.key === ' ') clickJersey();
});

// ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ
const CONFETTI_COLORS = ['#C5A028','#002E5D','#FFFFFF','#e8c040','#4a90e2','#ff6a00'];
function launchConfetti(big) {
  const count = big ? 60 : 20;
  for (let i = 0; i < count; i++) {
    const el = document.createElement('div');
    el.className = 'confetti-piece';
    el.style.cssText = `
      left:${Math.random()*100}vw;
      top:0;
      background:${CONFETTI_COLORS[Math.floor(Math.random()*CONFETTI_COLORS.length)]};
      --dur:${1.5+Math.random()*2}s;
      --delay:${Math.random()*0.8}s;
      transform:rotate(${Math.random()*360}deg);
      border-radius:${Math.random()>0.5?'50%':'2px'};
    `;
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 3500);
  }
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
renderGrid();
</script>
</body>
</html>
